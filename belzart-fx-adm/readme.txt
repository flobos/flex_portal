Mult-File Upload with Flex 2 and Coldfusion.

by Ryan Favro (http://ryanfavro.newmediateam.com/blog)

Requirements •	Flex Builder 2 (SDK Included)•	Flash Player 9.•	ColdFusion MX 7.02

Installing and configuring the applicationThe Multi-File Upload App consists of two major parts; the Flex files that you will compile in Flex Builder and the ColdFusion files that will reside on your ColdFusion server. For the purposes of this article it will be assumed you are using ColdFusion MX 7 Developer Edition installed locally.  If you are using a different configuration adapt the “http://localhost:8500/”  urls used in this article to match your own..1.	Create a new project in Flex Builder 2 and title it “MultiFileUpload”, when prompted as to what type of project to create select “Basic”.2.	Download the Multi-File Upload Application sample files that accompany this article.3.	Unzip them in to your newly created Flex project.  Your project directory should look similar to this if done correctly.  Flex Project Layout4.	Create a new directory on your ColdFusion server; name it “MultiFileUpload”. You will place the contents of your bin folder here after you compile the Multi-File Upload application in Flex Builder. Your server directory should look like this “http://localhost:8500/MultiFileUpload“5.	 Create a sub directory named “uploadedFiles” within the “MultiFileUpload” directory. Files uploaded from the Multi-File Upload application will land in this new directory.6.	From the downloaded sample application locate the file “upload.cfm”.  Copy this file to server directory “MultiFileUpload”. 7.	In Flex Builder open the file titled “FlexFileUpload_cb.as”.  Locate the variable uploadDestination ; it is currently set to “http://[yourserver]/MultiFileUpload/upload.cfm”.  Replace the [yourserver] portion with the URL to match your server configuration in this case ‘http://localhost:8500/MultiFileUpload/upload.cfm’.8.	Run the Flex Builder compiler.  By default your compiled code can be found in the bin directory within your Flex project. 9.	Open the bin directory; copy the contents to your server in the directory you created in step 4.  (Note: you may at your discretion omit the debug related html and swf files).10.	 Run the application by opening your webrowser to http://localhost:8500/MultiFileUpload/FileUpload.html


ColdFusion back endThe ColdFusion back end is consists of one file:upload.cfm accepts files uploaded from this Flex application.  This file acts, as gatekeeper to ensure file types uploaded is desirable. Debug information will be generated as a PDF file when a errors occurs.Flex applicationThe Flex application consists of five files:FileUpload.mxml is the main application file.  This file contains the user interface elements for the application.FileUpload_cb.as the ActionScript include for FileUpload.mxml. MultiFileUpload.as the class definition that handles all the work of the actual file uploading process and cue management.  This is located in the package com.newmediateam.com.fileIO included with the sample download.Ding.mp3 the sound file that is embedded and played after the batch of files to upload has completed its transfer to the server. This file is located in the audio directory under the assets folder.main.css the style sheet for the application located in the styles directory under the assets folder.